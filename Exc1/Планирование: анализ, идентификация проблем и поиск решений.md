
## Проблемы текущей реализации

### 1. Проблемы с производительностью MES:

Долгая загрузка первой страницы MES, которая отображает список заказов. Даже после внедрения фильтров и пагинации проблема не решена.
Долгий расчет стоимости (до 30 минут)

Возможные причины:

* Неэффективные запросы к базе данных 
* Отсутствие индексов или неправильная структура базы данных 
* Высокая нагрузка на базу данных из-за большого количества заказов
* Вычислительная сложность алгоритмов расчёта .
* Отсутствие оптимизации или кэширования результатов .


### 2. Проблемы с интеграцией сервисов через API и RabbitMQ:

RabbitMQ гарантирует доставку сообщений, но не гарантирует порядок их обработки. Это может привести к ситуациям, когда заказы обрабатываются в неправильной последовательности.
Если одно из приложений (например, MES) работает медленно, это может привести к накоплению сообщений в очереди и задержкам в обработке заказов.
Если заказ проходит через несколько приложений, каждое из которых может обновлять свои данные, может возникнуть рассогласованность данных (например, статус заказа в CRM и MES может отличаться).

### 3. Проблемы с процессами CI/CD:

Задержки в релизах из-за ручного тестирования и отсутствия автоматизации деплоя в продакшен-среду.

Возможные причины:

* Компания не выделила ресурсы на автоматизацию.
* Не хватило квалификации DevOps-инженера.

### 4. Проблемы с масштабируемостью инфраструктуры:

Каждое приложение работает на одном инстансе EC2, чего может быть недостаточно для растущей нагрузки.


### 5. Проблемы с мониторингом и логированием:

Отсутствие системы мониторинга и логирования значительно затрудняет диагностику проблем.


## Инициативы для устранения проблем
### 1. Оптимизация работы MES:

- оптимизировать запросы
- изучить структуру БД, при необходимости провести рефакторинг и решить вопрос с индексами
- провести горизонтальное масштабирование БД
- оптимизировать алгоритм расчета стоимости 
- как вариант, провести вертикальное масштабирование инстанса MES, т.к. вычисление стоимости - CPU-bound операция
- возможно, использовать распределённые вычисления для сложных моделей
- кэшировать результаты однотипных расчетов

### 2. Масштабирование инфраструктуры:

- внедрить горизонтальное масштабирование для приложений.
- внедрить отказоустойчивые решения для баз данных

### 3. Внедрение системы мониторинга и логирования:
- внедрить инструменты для мониторинга производительности и ошибок (например, Prometheus, Grafana).
- настроить централизованное логирование для всех приложений.
- настроить алерты для оперативного реагирования на проблемы или события

### 4. Улучшение интеграции между приложениями:

- подумать над внедрением интеграции через шину событий либо гибридный подход: синхронный REST API + шина событий. Синхронный апи применять для критически важных 
элементов функционала, где важна синхронность - например, создание и размещение заказа на главной странице. А движение заказа, уведомления о статусах осуществлять через шину событий.

### 5. Автоматизация процессов CI/CD:

- автоматизированные тесты для ускорения процесса тестирования
- автоматический деплой в прод и релиз окружения
- инструменты для автоматического мониторинга качества кода.

### 6. Улучшение процессов управления заказами:
- настроить систему приоритизации заказов для операторов и механизмы автоматического распределения заказов между операторами (это ускорит отправку заказов в работу и улучшит
пользовательский опыт операторов: на главной странице MES можно отображать не вообще все заказы, а только те, которые ему назначены).
- навести порядок в отслеживании статусов заказа (прохождение всех статусов через шину событий)

### 7. Обучение и развитие команды:
- провести обучение для QA-инженера по автоматизации тестирования.
- возможно, нанять дополнительных разработчиков для ускорения разработки и тестирования.

В идеале можно вынести магазин, MES и CRM как минимум в три отдельных микросервиса. Это ключевые 
домены, которым нужна будут развитие и масштабирование, и в команде как раз уже есть разрабы со знанием Vue, Java и С#. 

Инициативы расставлены в порядке приоритета. Если бы можно было выполнить только три пункта, я бы взяла первые три. Скорость работы MES - это не только узкое место нынешней реализации, но и критическая проблема,
отрицательно влияющая на пользовательский опыт прямо сейчас. Во вторую очередь - пп. 4, 5 и 6.
А обучение и развитие команды может идти параллельно процессам, скорее даже это было бы обучение через процесс. 